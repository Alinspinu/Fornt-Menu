<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title class="ion-text-center">Voucher</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-grid>
    <ion-row>
      <ion-col size="6">
        <ion-toolbar>
          <ion-title class="ion-text-center">
            Verifică Voucher
          </ion-title>
        </ion-toolbar>
        <div class="content">
          <form [formGroup]="checkForm">
            <ion-item lines="none" class="input" *ngIf="!voucher">
              <ion-input type="text" label="Cod Voucher" labelPlacement="floating" placeholder="Scanează Voucherul" formControlName="code"></ion-input>
            </ion-item>
            <ion-item lines="none" class="input" *ngIf="voucher">
              <ion-label>Status: <span class="data">{{voucher.status | capitalize}}</span></ion-label>
            </ion-item>
            <ion-item lines="none" class="input" *ngIf="voucher">
              <ion-label>Valoare: <span class="data">{{voucher.value}}</span></ion-label>
            </ion-item>
            <ion-button expand="block" size="large" color="secondary" (click)="checkVoucher()" *ngIf="!voucher" [disabled]="!checkForm.valid">Verifică Voucher</ion-button>
            <ion-button  expand="block" size="large" color="danger"(click)="useVoucher(voucher._id)" *ngIf="voucher && voucher.status === 'valid' ">Folosește Voucherul</ion-button>
            <ion-button  expand="block" size="large" color="secondary"(click)="tryAgain()" *ngIf="voucher">Incearcă din nou</ion-button>
          </form>
        </div>
      </ion-col>
      <ion-col size="6">
        <ion-toolbar>
          <ion-title class="ion-text-center">
            Adaugă Voucher
          </ion-title>
        </ion-toolbar>
        <div class="content">
          <form [formGroup]="voucherForm">
            <ion-item lines="none" class="input">
              <ion-input type="text" label="Cod Voucher" labelPlacement="floating" placeholder="Scanează Voucherul" formControlName="code"></ion-input>
            </ion-item>
            <ion-item lines="none" class="input">
              <ion-input type="number" label="Valoare" labelPlacement="floating" placeholder="Introdu Valoarea Voucherului" formControlName="value"></ion-input>
            </ion-item>
            <ion-button expand="block" size="large" color="primary"(click)="addVoucher()" [disabled]="!voucherForm.valid">Adaugă Voucher</ion-button>
          </form>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
